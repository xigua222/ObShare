# ObShare - Obsidian 飞书云文档同步分享插件

> 🚀 **一次配置，轻松使用** - 基于飞书云文档的 Obsidian 笔记同步与分享方案

[![Version](https://img.shields.io/badge/version-1.0.2-blue.svg)](https://github.com/your-repo/ob-share)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Obsidian](https://img.shields.io/badge/Obsidian-1.9.12+-purple.svg)](https://obsidian.md/)

## ✨ 核心特性

### 🔒 隐私安全第一
- **🛡️ 本地加密存储** - 所有敏感配置信息（App ID、App Secret、用户ID等）均采用 AES-GCM 256位加密算法本地存储
- **🔐 零数据收集** - 插件不收集、不分析、不共享任何用户数据，所有处理均在本地完成
- **👁️ 完全透明** - 开源代码，可审计，无监控、无追踪、无广告
- **🚫 无网络监听** - 仅在用户主动操作时才与飞书API通信

### 🎯 一键分享体验
- **📤 一键上传** - 右键菜单或命令面板快速分享当前文档成为飞书云文档
- **🎨 智能转换** - 自动转换 Obsidian 多种格式
- **🖼️ 图片处理** - 自动上传并转换本地图片链接
- **⚙️ 权限控制** - 灵活设置文档公开性、复制权限等

### 📊 便捷管理
- **📋 上传历史** - 完整的上传记录，支持重新设置权限
- **🔄 进度显示** - 实时上传进度条，清晰了解处理状态
- **📈 使用统计** - API调用次数统计，合理控制使用频率

## 🚀 快速开始

### 第一步：安装插件

1. 在 Obsidian 中打开 `设置` → `第三方插件`
2. 关闭 `安全模式`
3. 点击 `浏览` 搜索 "ObShare" 并安装
4. 启用插件

### 第二步：配置飞书应用（仅需一次）

> ⏱️ **预计配置时间：5-10分钟**

#### 📋 准备清单
- [ ] 飞书账号
- [ ] 创建飞书应用
- [ ] 获取应用凭证
- [ ] 创建目标文件夹

#### 🔧 详细配置步骤

**完整配置指南：** [快速配置您的ObShare](https://itlueqqx8t.feishu.cn/docx/XUJmdxbf7octOFx3Vt0c3KJ3nWe)

1. **创建飞书应用**
   - 访问 [飞书开放平台](https://open.feishu.cn/)
   - 创建企业自建应用
   - 获取 `App ID` 和 `App Secret`

2. **配置应用权限**
   - 添加云文档相关权限
     
3. **获取必要信息**
   - 📱 **用户ID**：您的飞书用户标识
   - 📁 **文件夹Token**：目标上传文件夹的标识

4. **插件配置**
   - 打开 Obsidian 设置 → ObShare
   - 填入上述四项必需信息
   - 点击 "测试连接" 验证配置

### 第三步：开始使用

#### 🎯 三种上传方式

1. **命令面板**：`Ctrl/Cmd + P` → 搜索 "分享当前文档到飞书"
2. **右键菜单**：在文件列表中右键 → "分享该页面"
3. **工具栏按钮**：点击左侧工具栏的分享图标

#### ⚙️ 权限设置

上传完成后，可以设置文档权限：
- **🌐 公开访问**：允许任何人通过链接访问
- **📋 允许复制**：允许查看者复制内容
- **📄 允许下载**：允许创建副本、打印、下载
- 
### 📝 Callout 智能转换

插件会自动检测并转换 Obsidian 的 Callout 语法：

```markdown
> [!note] 这是一个笔记
> 这里是笔记内容

> [!warning] 这是一个警告
> 这里是警告内容
```

转换为飞书的多维表格样式，保持视觉效果一致。

### 🖼️ 图片自动处理
- 自动上传本地图片到飞书
- 转换图片链接为飞书格式
- 支持多种图片格式

### 📊 使用统计
- 实时显示本月API调用次数
- 上传文档数量统计
- 帮助合理控制使用频率

## 🛡️ 安全与隐私

### 🔐 数据加密

- **加密算法**：AES-GCM 256位
- **密钥生成**：基于设备特征生成固定密钥
- **加密范围**：App ID、App Secret、文件夹Token、用户ID
- **存储位置**：仅在本地 `data.json` 文件中

### 🔒 数据流向

```
您的设备 ←→ 飞书API
     ↑
   仅此路径
```
**数据仅在您的设备与飞书之间传输，不经过任何第三方服务器。**

## 📋 系统要求
- **Obsidian**：1.9.12 或更高版本
- **平台**：Windows、macOS、Linux
- **网络**：需要访问飞书API（open.feishu.cn）

## 🆘 常见问题

### Q: 配置后无法上传？
**A:** 请检查：
1. 网络连接是否正常
2. 飞书应用权限是否正确配置
3. 用户ID和文件夹Token是否正确
4. 点击"测试连接"验证配置

### Q: 上传的文档格式有问题？
**A:** 插件会自动转换 Markdown 格式，部分复杂格式可能需要手动调整。

### Q: 如何删除已上传的文档？
**A:** 在插件设置的"上传历史"中可以删除记录，但飞书中的文档需要手动删除。

### Q: 担心数据安全？
**A:** 插件完全开源，您可以审查代码。所有敏感信息都经过加密存储，不会上传到任何第三方服务器。

## 🤝 贡献
欢迎提交 Issue 和 Pull Request！

## 📄 许可证
本项目采用 [MIT 许可证](LICENSE)。

## 🙏 致谢
- [Obsidian](https://obsidian.md/) - 优秀的笔记软件
- [飞书开放平台](https://open.feishu.cn/) - 提供API支持
- 所有贡献者和用户的支持

---

**🔗 相关链接**
- [配置指南](https://itlueqqx8t.feishu.cn/docx/XUJmdxbf7octOFx3Vt0c3KJ3nWe)

**💡 如果这个插件对您有帮助，请给我们一个 ⭐ Star！**
